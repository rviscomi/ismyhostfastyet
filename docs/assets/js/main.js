var e=e=>({get:t=>e.get(t),set:(t,n)=>(e.set(t,n),n)});const t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,n=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,r=/<[a-z][^>]+$/i,a=/>[^<>]*$/,l=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,o=/\s+$/,s=(e,t)=>0<t--&&(r.test(e[t])||!a.test(e[t])&&s(e,t)),i=(e,t,r)=>n.test(t)?e:`<${t}${r.replace(o,"")}></${t}>`;const{isArray:c}=Array,{indexOf:u,slice:d}=[],p=(e,t)=>111===e.nodeType?1/t<0?t?(({firstChild:e,lastChild:t})=>{const n=document.createRange();return n.setStartAfter(e),n.setEndAfter(t),n.deleteContents(),e})(e):e.lastChild:t?e.valueOf():e.firstChild:e;const f=(e,t)=>{let n,r=t.slice(2);return!(t in e)&&t.toLowerCase()in e&&(r=r.toLowerCase()),t=>{const a=c(t)?t:[t,!1];n!==a[0]&&(n&&e.removeEventListener(r,n,a[1]),(n=a[0])&&e.addEventListener(r,n,a[1]))}},h=({childNodes:e},t)=>e[t],m=(e,t,n)=>((e,t,n,r,a)=>{const l=n.length;let o=t.length,s=l,i=0,c=0,u=null;for(;i<o||c<s;)if(o===i){const t=s<l?c?r(n[c-1],-0).nextSibling:r(n[s-c],0):a;for(;c<s;)e.insertBefore(r(n[c++],1),t)}else if(s===c)for(;i<o;)u&&u.has(t[i])||e.removeChild(r(t[i],-1)),i++;else if(t[i]===n[c])i++,c++;else if(t[o-1]===n[s-1])o--,s--;else if(t[i]===n[s-1]&&n[c]===t[o-1]){const a=r(t[--o],-1).nextSibling;e.insertBefore(r(n[c++],1),r(t[i++],-1).nextSibling),e.insertBefore(r(n[--s],1),a),t[o]=n[s]}else{if(!u){u=new Map;let e=c;for(;e<s;)u.set(n[e],e++)}if(u.has(t[i])){const a=u.get(t[i]);if(c<a&&a<s){let l=i,d=1;for(;++l<o&&l<s&&u.get(t[l])===a+d;)d++;if(d>a-c){const l=r(t[i],0);for(;c<a;)e.insertBefore(r(n[c++],1),l)}else e.replaceChild(r(n[c++],1),r(t[i++],-1))}else i++}else e.removeChild(r(t[i++],-1))}return n})(e.parentNode,t,n,p,e),g=(e,t)=>{switch(t[0]){case"?":return((e,t,n)=>r=>{n!==!!r&&((n=!!r)?e.setAttribute(t,""):e.removeAttribute(t))})(e,t.slice(1),!1);case".":return((e,t)=>"dataset"===t?(({dataset:e})=>t=>{for(const n in t){const r=t[n];null==r?delete e[n]:e[n]=r}})(e):n=>{e[t]=n})(e,t.slice(1));case"@":return f(e,"on"+t.slice(1));case"o":if("n"===t[1])return f(e,t)}switch(t){case"ref":return(e=>{let t;return n=>{t!==n&&(t=n,"function"==typeof n?n(e):n.current=e)}})(e);case"aria":return(e=>t=>{for(const n in t){const r="role"===n?n:`aria-${n}`,a=t[n];null==a?e.removeAttribute(r):e.setAttribute(r,a)}})(e)}return((e,t)=>{let n,r=!0;const a=document.createAttributeNS(null,t);return t=>{n!==t&&(n=t,null==n?r||(e.removeAttributeNode(a),r=!0):(a.value=t,r&&(e.setAttributeNodeNS(a),r=!1)))}})(e,t)};function v(e){const{type:t,path:n}=e,r=n.reduceRight(h,this);return"node"===t?(e=>{let t,n,r=[];const a=l=>{switch(typeof l){case"string":case"number":case"boolean":t!==l&&(t=l,n||(n=document.createTextNode("")),n.data=l,r=m(e,r,[n]));break;case"object":case"undefined":if(null==l){t!=l&&(t=l,r=m(e,r,[]));break}if(c(l)){t=l,0===l.length?r=m(e,r,[]):"object"==typeof l[0]?r=m(e,r,l):a(String(l));break}t!==l&&"ELEMENT_NODE"in l&&(t=l,r=m(e,r,11===l.nodeType?d.call(l.childNodes):[l]));break;case"function":a(l(e))}};return a})(r):"attr"===t?g(r,e.name):(e=>{let t;return n=>{t!=n&&(t=n,e.textContent=null==n?"":n)}})(r)}
/*! (c) Andrea Giammarchi - ISC */var $=function(e){var t="fragment",n="template",r="content"in l(n)?function(e){var t=l(n);return t.innerHTML=e,t.content}:function(e){var r=l(t),o=l(n),s=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var i=RegExp.$1;o.innerHTML="<table>"+e+"</table>",s=o.querySelectorAll(i)}else o.innerHTML=e,s=o.childNodes;return a(r,s),r};return function(e,t){return("svg"===t?o:r)(e)};function a(e,t){for(var n=t.length;n--;)e.appendChild(t[0])}function l(n){return n===t?e.createDocumentFragment():e.createElementNS("http://www.w3.org/1999/xhtml",n)}function o(e){var n=l(t),r=l("div");return r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",a(n,r.firstChild.childNodes),n}}(document);const w=1!=document.importNode.length,b=w?(e,t,n)=>document.importNode($(e,t,n),!0):$,y=w?e=>document.createTreeWalker(e,129,null,!1):e=>document.createTreeWalker(e,129),C=e=>{const t=[];let{parentNode:n}=e;for(;n;)t.push(u.call(n.childNodes,e)),n=(e=n).parentNode;return t},k=e(new WeakMap),N=/^(?:plaintext|script|style|textarea|title|xmp)$/i,x=(e,n)=>{const r=((e,n,r)=>{const a=[],{length:o}=e;for(let r=1;r<o;r++){const l=e[r-1];a.push(t.test(l)&&s(e,r)?l.replace(t,((e,t,a)=>`${n}${r-1}=${a||'"'}${t}${a?"":'"'}`)):`${l}\x3c!--${n}${r-1}--\x3e`)}a.push(e[o-1]);const c=a.join("").trim();return r?c:c.replace(l,i)})(n,"isÂµ","svg"===e),a=b(r,e),o=y(a),c=[],u=n.length-1;let d=0,p=`isÂµ${d}`;for(;d<u;){const e=o.nextNode();if(!e)throw`bad template: ${r}`;if(8===e.nodeType)e.data===p&&(c.push({type:"node",path:C(e)}),p="isÂµ"+ ++d);else{for(;e.hasAttribute(p);)c.push({type:"attr",path:C(e),name:e.getAttribute(p)}),e.removeAttribute(p),p="isÂµ"+ ++d;N.test(e.tagName)&&e.textContent.trim()===`\x3c!--${p}--\x3e`&&(e.textContent="",c.push({type:"text",path:C(e)}),p="isÂµ"+ ++d)}}return{content:a,nodes:c}},S=(e,t)=>{const{content:n,nodes:r}=k.get(t)||k.set(t,x(e,t)),a=document.importNode(n,!0);return{content:a,updates:r.map(v,a)}},A=(e,{type:t,template:n,values:r})=>{const{length:a}=r;M(e,r,a);let{entry:l}=e;l&&l.template===n&&l.type===t||(e.entry=l=((e,t)=>{const{content:n,updates:r}=S(e,t);return{type:e,template:t,content:n,updates:r,wire:null}})(t,n));const{content:o,updates:s,wire:i}=l;for(let e=0;e<a;e++)s[e](r[e]);return i||(l.wire=(e=>{const{childNodes:t}=e,{length:n}=t;if(n<2)return n?t[0]:e;const r=d.call(t,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:r[0],lastChild:r[n-1],valueOf(){if(t.length!==n){let t=0;for(;t<n;)e.appendChild(r[t++])}return e}}})(o))},M=({stack:e},t,n)=>{for(let r=0;r<n;r++){const n=t[r];n instanceof T?t[r]=A(e[r]||(e[r]={stack:[],entry:null,wire:null}),n):c(n)?M(e[r]||(e[r]={stack:[],entry:null,wire:null}),n,n.length):e[r]=null}n<e.length&&e.splice(n)};function T(e,t,n){this.type=e,this.template=t,this.values=n}const{create:E,defineProperties:L}=Object,O=t=>{const n=e(new WeakMap);return L(((e,...n)=>new T(t,e,n)),{for:{value(e,r){const a=n.get(e)||n.set(e,E(null));return a[r]||(a[r]=(e=>(n,...r)=>A(e,{type:t,template:n,values:r}))({stack:[],entry:null,wire:null}))}},node:{value:(e,...n)=>A({stack:[],entry:null,wire:null},{type:t,template:e,values:n}).valueOf()}})},H=e(new WeakMap),_=O("html");O("svg");const D={data:{v:"1",tid:"UA-22381566-4",cid:`${Date.now()}${Math.random()}`,dl:location.href,aip:"1"},send(e){navigator.sendBeacon("https://google-analytics.com/collect",new URLSearchParams({...this.data,...e}).toString())}};D.send({t:"pageview"});const j=document.querySelector(".data-json"),B=document.querySelector(".app-container");if(!j||!B)throw new Error("Could not find a required element");const W=JSON.parse(j.innerHTML);let q="fast",F=W.filter((e=>"mobile"===e.client));const R=e=>{e.preventDefault();const{currentTarget:t}=e,n=t.value;z(n),U(q),J(),D.send({event:"client",event_category:"engagement",event_label:n})},z=e=>{if("all"===e)return F=W;F=W.filter((t=>t.client===e))},P=e=>{e.preventDefault();const{currentTarget:t}=e,n=t.dataset.field;q=n,U(n),J(),D.send({event:"sort",event_category:"engagement",event_label:n})},U=e=>{if(!(e in F[0]))return F;F=F.sort(((t,n)=>{const r=n[e]-t[e];return isNaN(r)?t[e].localeCompare(n[e]):r}))},J=()=>{((e,t)=>{const n="function"==typeof t?t():t,r=H.get(e)||H.set(e,{stack:[],entry:null,wire:null}),a=n instanceof T?A(r,n):n;a!==r.wire&&(r.wire=a,e.textContent="",e.appendChild(a.valueOf()))})(B,_`<table>${(e=>_`<thead><th>${"platform"!==e?_`<a href="#" onClick="${P}" data-field="platform">Host</a>`:_`Host`}</th><th><select style="min-width:1ch" onChange="${R}" value="mobile"><option value="mobile">ðŸ“±</option><option value="desktop">ðŸ–¥</option><option value="all">ðŸ“±ðŸ–¥</option></select></th><th>${"n"!==e?_`<a href="#" onClick="${P}" data-field="n">Sites</a>`:_`Sites`}</th><th>${"fast"!==e?_`<a href="#" onClick="${P}" data-field="fast">Fast</a>`:_`Fast`}</th><th style="text-align:center">${"avg"!==e?_`<a href="#" onClick="${P}" data-field="avg">Average<br>(p75 > 500ms)</a>`:_`Average<br>(p75 > 500ms)`}</th><th style="text-align:right">${"slow"!==e?_`<a href="#" onClick="${P}" data-field="slow">Slow<br>(p75 >= 1500ms)</a>`:_`Slow<br>(p75 >= 1500ms)`}</th></thead>`)(q)}<tbody>${F.map((e=>_`<tr><td>${e.platform}</td><td><span aria-label="${"desktop"===e.client?"desktop":"mobile"}">${"desktop"===e.client?"ðŸ–¥":"ðŸ“±"}</span></td><td>${e.n}</td><td colspan="3" class="ttfb"><span class="fast" title="${`Fast: ${Math.round(100*e.fast*100)/100}% of websites`}" style="${`width: ${100*e.fast}%`}">${Math.round(100*e.fast*100)/100}%</span> <span class="avg" title="${`Average: ${Math.round(100*e.avg*100)/100}% of websites`}" style="${`width: ${100*e.avg}%`}">${Math.round(100*e.avg*100)/100}%</span> <span class="slow" title="${`Slow: ${Math.round(100*e.slow*100)/100}% of websites`}" style="${`width: ${100*e.slow}%`}">${Math.round(100*e.slow*100)/100}%</span></td></tr>`))}</tbody></table>`)};J();
